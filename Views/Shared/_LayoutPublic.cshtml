@* Views/Shared/_LayoutPublic.cshtml *@
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - NightFury</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />

    <style>
        :root{
            --nf-red: #dc3545;
            --nf-red-dark: #b02a37;
            --nf-ink: #111827;
            --nf-muted: #6b7280;
            --nf-border: rgba(17,24,39,.12);
            --nf-shadow: 0 14px 40px rgba(17,24,39,.10);
            --nf-shadow2: 0 10px 26px rgba(17,24,39,.08);
            --radius: 18px;
        }

        body{
            font-family: "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
            color: var(--nf-ink);
            background: #f6f7fb;
        }

        /* ===== NAVBAR ===== */
        .nf-navbar{
            position: sticky;
            top: 0;
            z-index: 1030;
            backdrop-filter: blur(10px);
            background: rgba(220,53,69,.92);
            box-shadow: 0 10px 24px rgba(17,24,39,.08);
        }
        .navbar-brand{
            font-weight: 950;
            letter-spacing: .2px;
        }
        .navbar-brand img{
            height: 34px;
            width: auto;
            margin-right: 10px;
            border-radius: 10px;
            background: #fff;
            padding: 4px;
            box-shadow: 0 10px 24px rgba(17,24,39,.12);
        }
        .nav-link{
            font-weight: 800;
            opacity: .95;
        }
        .nav-link:hover{
            opacity: 1;
            text-decoration: underline;
            text-underline-offset: 4px;
        }
        .nf-auth-btn{
            border-radius: 999px;
            font-weight: 950;
            padding: 10px 14px;
            box-shadow: 0 10px 24px rgba(17,24,39,.12);
        }

        /* ===== HERO ===== */
        .nf-hero{
            position: relative;
            padding: 86px 0 54px 0;
            color: #fff;
            background: url('/images/banner-city.jpg') no-repeat center center;
            background-size: cover;
            overflow: hidden;
        }
        .nf-hero::before{
            content:"";
            position:absolute;
            inset:0;
            background: linear-gradient(180deg, rgba(17,24,39,.55), rgba(17,24,39,.35));
        }
        .nf-hero .container{
            position: relative;
            z-index: 2;
        }
        .nf-hero h1{
            font-weight: 950;
            letter-spacing: -.6px;
            line-height: 1.1;
            text-transform: uppercase;
        }
        .nf-hero p{
            max-width: 820px;
            font-size: 1.05rem;
            color: rgba(255,255,255,.9);
        }
        .nf-pill{
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border-radius: 999px;
            padding: 8px 12px;
            border: 1px solid rgba(255,255,255,.22);
            background: rgba(255,255,255,.10);
            box-shadow: 0 10px 24px rgba(17,24,39,.12);
            font-weight: 900;
            letter-spacing: .5px;
            font-size: .9rem;
            user-select: none;
        }
        .nf-pill .dot{
            width: 10px;
            height: 10px;
            border-radius: 99px;
            background: #22c55e;
            box-shadow: 0 0 0 4px rgba(34,197,94,.20);
        }
        .nf-hero .cta{
            margin-top: 18px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .btn-hero{
            border-radius: 14px;
            font-weight: 950;
            padding: 12px 16px;
            box-shadow: 0 12px 26px rgba(17,24,39,.16);
        }
        .btn-hero-outline{
            border-radius: 14px;
            font-weight: 950;
            padding: 12px 16px;
            border: 1px solid rgba(255,255,255,.35);
            color: #fff;
            background: rgba(255,255,255,.12);
        }
        .btn-hero-outline:hover{
            background: rgba(255,255,255,.18);
            color:#fff;
        }

        /* ===== MAIN WRAP ===== */
        .nf-main{
            margin-top: -28px;
            padding-bottom: 50px;
        }
        .nf-surface{
            border-radius: var(--radius);
            border: 1px solid var(--nf-border);
            background: #fff;
            box-shadow: var(--nf-shadow);
            overflow: hidden;
        }
        .nf-surface-head{
            padding: 16px 18px;
            border-bottom: 1px solid rgba(17,24,39,.08);
            background: linear-gradient(180deg, rgba(17,24,39,.03), rgba(17,24,39,.01));
            display:flex;
            justify-content:space-between;
            align-items:center;
            gap: 10px;
            flex-wrap: wrap;
        }
        .nf-surface-body{
            padding: 18px;
        }

        /* ===== SERVICE CARDS ===== */
        .nf-card{
            border-radius: var(--radius);
            border: 1px solid var(--nf-border);
            background: #fff;
            box-shadow: var(--nf-shadow2);
            padding: 18px;
            height: 100%;
            transition: .2s;
        }
        .nf-card:hover{
            transform: translateY(-3px);
            box-shadow: 0 18px 50px rgba(17,24,39,.12);
        }
        .nf-card h5{
            font-weight: 950;
            letter-spacing: -.2px;
            margin-bottom: 8px;
        }
        .nf-card p{
            color: var(--nf-muted);
            margin-bottom: 10px;
        }
        .nf-link{
            font-weight: 950;
            color: var(--nf-red);
            text-decoration: none;
        }
        .nf-link:hover{
            color: var(--nf-red-dark);
            text-decoration: underline;
            text-underline-offset: 4px;
        }

        /* ===== MENU RIGHT ===== */
        .nf-menu{
            border-radius: var(--radius);
            border: 1px solid var(--nf-border);
            background: #fff;
            box-shadow: var(--nf-shadow2);
            overflow: hidden;
            position: sticky;
            top: 86px;
        }
        .nf-menu h5{
            margin: 0;
            padding: 14px 16px;
            background: var(--nf-red);
            color: #fff;
            font-weight: 950;
        }
        .nf-menu a{
            display:flex;
            align-items:center;
            justify-content:space-between;
            padding: 12px 16px;
            color: var(--nf-ink);
            text-decoration: none;
            border-top: 1px solid rgba(17,24,39,.08);
            font-weight: 850;
        }
        .nf-menu a:hover{
            background: rgba(220,53,69,.06);
            color: var(--nf-red);
        }

        /* ===== EXTRA SECTIONS (READABLE CONTENT) ===== */
        .nf-badge-soft{
            display:inline-flex;
            align-items:center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 999px;
            border: 1px solid rgba(17,24,39,.10);
            background: rgba(220,53,69,.06);
            font-weight: 900;
            color: var(--nf-red-dark);
        }
        .nf-kpi{
            border: 1px solid rgba(17,24,39,.10);
            border-radius: var(--radius);
            background: #fff;
            box-shadow: var(--nf-shadow2);
            padding: 16px;
            height: 100%;
        }
        .nf-kpi .num{
            font-size: 1.35rem;
            font-weight: 950;
        }
        .nf-kpi .cap{
            color: var(--nf-muted);
            font-size: .9rem;
        }
        .nf-step{
            text-align: center;
        }
        .nf-step .icon{
            width: 48px;
            height: 48px;
            border-radius: 16px;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            background: rgba(220,53,69,.08);
            border: 1px solid rgba(220,53,69,.18);
            margin-bottom: 10px;
        }
        .nf-step h6{
            font-weight: 950;
            margin-bottom: 6px;
        }
        .nf-step p{
            color: var(--nf-muted);
            margin-bottom: 0;
            font-size: .95rem;
        }
        .nf-faq h6{
            font-weight: 950;
            margin-bottom: 6px;
        }

        /* ===== FOOTER ===== */
        .nf-footer{
            background: #fff;
            border-top: 1px solid rgba(17,24,39,.10);
            color: var(--nf-muted);
        }

        @@media (max-width: 576px){
            .nf-hero{ padding: 70px 0 48px 0; }
            .nf-hero h1{ font-size: 1.35rem; }
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark nf-navbar">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center"
               asp-controller="Home" asp-action="Index">
                <img src="~/images/logo.png" alt="NightFury Logo" />
                NightFury
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" asp-controller="Home" asp-action="Index">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" asp-controller="Service" asp-action="Index">Dịch vụ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" asp-controller="News" asp-action="Index">Tin tức</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" asp-controller="App" asp-action="Index">Ứng dụng</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" asp-controller="Support" asp-action="Index">Hỗ trợ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" asp-controller="Recruit" asp-action="Index">Tuyển dụng</a>
                    </li>
                </ul>

                <a class="btn btn-light nf-auth-btn"
                   asp-controller="Auth" asp-action="Login">
                    <i class="bi bi-person-circle me-1"></i> Đăng ký / Đăng nhập
                </a>
            </div>
        </div>
    </nav>

    @* HERO: trang nào muốn hero riêng thì dùng @section Hero { ... } *@
    @if (IsSectionDefined("Hero"))
    {
        @RenderSection("Hero", required: false)
    }
    else
    {
        <header class="nf-hero">
            <div class="container">
                <div class="nf-pill mb-3">
                    <span class="dot"></span>
                    <span>Mạng chuyển phát nhanh rộng khắp</span>
                </div>

                <h1 class="mb-2">TỔNG CÔNG TY CỔ PHẦN NIGHTFURY</h1>
                <p class="mb-0">
                    Dịch vụ giao nhận nhanh, minh bạch hành trình, hỗ trợ 24/7 và đối soát COD rõ ràng cho mọi đơn hàng.
                </p>

                <div class="cta">
                    <a class="btn btn-danger btn-hero"
                       asp-controller="Track" asp-action="Index">
                        <i class="bi bi-search me-1"></i> Tra cứu vận đơn
                    </a>

                    <a class="btn btn-hero-outline"
                       asp-controller="Service" asp-action="Index">
                        <i class="bi bi-box-seam me-1"></i> Xem dịch vụ
                    </a>
                </div>
            </div>
        </header>
    }

    <!-- Main -->
    <main role="main" class="nf-main">
        <div class="container">

            <!-- Top Surface: content blocks -->
            <div class="nf-surface mb-4">
                <div class="nf-surface-head">
                    <div class="fw-bold">
                        <i class="bi bi-lightning-charge me-2 text-danger"></i>
                        Dịch vụ nổi bật
                    </div>
                    <div class="text-muted small">
                        Cập nhật thông tin dịch vụ & chính sách mới nhất
                    </div>
                </div>

                <div class="nf-surface-body">
                    <div class="row g-4">
                        <!-- Left -->
                        <div class="col-lg-8">
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <div class="nf-card">
                                        <h5><i class="bi bi-pin-map me-2 text-danger"></i>Phân loại địa danh</h5>
                                        <p>
                                            NightFury công bố chi tiết phân loại địa danh để tính cước chính xác và minh bạch.
                                            Khu vực được phân theo tỉnh/thành – quận/huyện – phường/xã.
                                        </p>
                                        <a asp-controller="Service" asp-action="Index" class="nf-link">Xem chi tiết &raquo;</a>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="nf-card">
                                        <h5><i class="bi bi-stopwatch me-2 text-danger"></i>Giao ngay nội tỉnh</h5>
                                        <p>
                                            Dịch vụ giao nhanh trong cùng tỉnh/thành phố. Lấy tận nơi – giao theo tuyến tối ưu,
                                            cập nhật trạng thái liên tục.
                                        </p>
                                        <a asp-controller="Service" asp-action="Index" class="nf-link">Xem chi tiết &raquo;</a>
                                    </div>
                                </div>
                            </div>

                            <!-- KPI mini -->
                            <div class="row g-3 mt-1">
                                <div class="col-md-4">
                                    <div class="nf-kpi">
                                        <div class="num"><i class="bi bi-geo-alt text-danger me-1"></i> 63+</div>
                                        <div class="cap">Tỉnh/Thành phủ sóng</div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="nf-kpi">
                                        <div class="num"><i class="bi bi-truck text-danger me-1"></i> 1.000+</div>
                                        <div class="cap">Tài xế đối tác</div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="nf-kpi">
                                        <div class="num"><i class="bi bi-headset text-danger me-1"></i> 24/7</div>
                                        <div class="cap">Hỗ trợ & xử lý khiếu nại</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right menu -->
                        <div class="col-lg-4">
                            <aside class="nf-menu">
                                <h5>Danh mục dịch vụ</h5>
                                <a asp-controller="Service" asp-action="Index">
                                    Dịch vụ trong nước
                                    <i class="bi bi-chevron-right"></i>
                                </a>
                                <a asp-controller="Service" asp-action="Index">
                                    Dịch vụ quốc tế
                                    <i class="bi bi-chevron-right"></i>
                                </a>
                                <a asp-controller="Service" asp-action="Index">
                                    Dịch vụ kho vận
                                    <i class="bi bi-chevron-right"></i>
                                </a>
                                <a asp-controller="Support" asp-action="Index">
                                    Hỗ trợ & khiếu nại
                                    <i class="bi bi-chevron-right"></i>
                                </a>
                            </aside>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ===== READABLE SECTIONS: GIỚI THIỆU ===== -->
            <div class="nf-surface mb-4">
                <div class="nf-surface-head">
                    <div class="fw-bold">
                        <i class="bi bi-building me-2 text-danger"></i>
                        Giới thiệu NightFury
                    </div>
                    <div class="nf-badge-soft">
                        <i class="bi bi-shield-check"></i> Minh bạch – Nhanh – Tối ưu
                    </div>
                </div>
                <div class="nf-surface-body">
                    <p class="mb-2">
                        <strong>NightFury Logistics</strong> là nền tảng giao nhận thông minh, cung cấp giải pháp vận chuyển
                        nhanh – minh bạch – tối ưu chi phí cho cá nhân và doanh nghiệp.
                    </p>
                    <p class="mb-0">
                        Hệ thống áp dụng phân vùng địa lý, gán hub phụ trách và tối ưu tuyến giao theo điều kiện thực tế.
                        Mỗi đơn hàng đều có trạng thái rõ ràng, lịch sử thao tác, và đối soát COD minh bạch sau giao.
                    </p>
                </div>
            </div>

            <!-- ===== READABLE SECTIONS: QUY TRÌNH ===== -->
            <div class="nf-surface mb-4">
                <div class="nf-surface-head">
                    <div class="fw-bold">
                        <i class="bi bi-diagram-3 me-2 text-danger"></i>
                        Quy trình gửi hàng
                    </div>
                    <div class="text-muted small">Tối giản thao tác – rõ ràng trách nhiệm</div>
                </div>
                <div class="nf-surface-body">
                    <div class="row g-4">
                        <div class="col-md-3">
                            <div class="nf-step nf-card">
                                <div class="icon"><i class="bi bi-clipboard-check text-danger fs-4"></i></div>
                                <h6>1) Tạo đơn</h6>
                                <p>Nhập thông tin gửi/nhận, COD và dịch vụ mong muốn.</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="nf-step nf-card">
                                <div class="icon"><i class="bi bi-geo text-danger fs-4"></i></div>
                                <h6>2) Phân vùng</h6>
                                <p>Hệ thống xác định khu vực, hub phụ trách và phí ship.</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="nf-step nf-card">
                                <div class="icon"><i class="bi bi-truck text-danger fs-4"></i></div>
                                <h6>3) Giao nhận</h6>
                                <p>Tài xế nhận tuyến, giao theo lộ trình tối ưu và cập nhật trạng thái.</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="nf-step nf-card">
                                <div class="icon"><i class="bi bi-receipt text-danger fs-4"></i></div>
                                <h6>4) Đối soát</h6>
                                <p>Đối soát COD rõ ràng, tổng hợp theo ngày/tuần/tháng.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ===== READABLE SECTIONS: VÌ SAO CHỌN ===== -->
            <div class="nf-surface mb-4">
                <div class="nf-surface-head">
                    <div class="fw-bold">
                        <i class="bi bi-star me-2 text-danger"></i>
                        Vì sao chọn NightFury?
                    </div>
                </div>
                <div class="nf-surface-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h5><i class="bi bi-speedometer2 me-2 text-danger"></i>Tốc độ & tối ưu tuyến</h5>
                                <p class="mb-0">
                                    Hệ thống gợi ý tuyến giao hợp lý theo khu vực, giảm thời gian di chuyển và tăng tỷ lệ giao thành công.
                                </p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h5><i class="bi bi-eye me-2 text-danger"></i>Minh bạch hành trình</h5>
                                <p class="mb-0">
                                    Trạng thái đơn hàng rõ ràng theo từng mốc: chờ xử lý → đang giao → đã giao/hoàn.
                                </p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h5><i class="bi bi-cash-coin me-2 text-danger"></i>Đối soát COD rõ ràng</h5>
                                <p class="mb-0">
                                    Tổng hợp COD, phí ship, thống kê theo thời gian; hạn chế nhầm lẫn trong đối soát.
                                </p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h5><i class="bi bi-headset me-2 text-danger"></i>Hỗ trợ 24/7</h5>
                                <p class="mb-0">
                                    Tạo khiếu nại/hỗ trợ và theo dõi hội thoại trực tiếp; giảm thời gian xử lý sự cố.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ===== READABLE SECTIONS: FAQ ===== -->
            <div class="nf-surface mb-4 nf-faq">
                <div class="nf-surface-head">
                    <div class="fw-bold">
                        <i class="bi bi-question-circle me-2 text-danger"></i>
                        Câu hỏi thường gặp
                    </div>
                </div>
                <div class="nf-surface-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h6>NightFury có hỗ trợ thu hộ COD không?</h6>
                                <p class="mb-0 text-muted">
                                    Có. COD được ghi nhận theo từng đơn và tổng hợp đối soát minh bạch theo kỳ.
                                </p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h6>Tôi tra cứu vận đơn ở đâu?</h6>
                                <p class="mb-0 text-muted">
                                    Vào mục “Tra cứu vận đơn” trên website, nhập mã đơn để xem trạng thái hiện tại.
                                </p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h6>Nếu giao thất bại thì xử lý như thế nào?</h6>
                                <p class="mb-0 text-muted">
                                    Đơn sẽ chuyển trạng thái “Thất bại/Hoàn”, hệ thống ghi log và xử lý theo chính sách hoàn hàng.
                                </p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="nf-card">
                                <h6>Tôi cần hỗ trợ gấp thì làm sao?</h6>
                                <p class="mb-0 text-muted">
                                    Vào mục “Hỗ trợ” hoặc gửi yêu cầu; hệ thống lưu lại hội thoại để theo dõi tiến độ xử lý.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ===== CTA FINAL ===== -->
            <div class="nf-surface mb-4 text-center">
                <div class="nf-surface-body">
                    <h4 class="fw-bold mb-2">Sẵn sàng gửi hàng cùng NightFury?</h4>
                    <p class="text-muted mb-3">
                        Đăng ký tài khoản để tạo đơn, theo dõi hành trình, và đối soát COD minh bạch.
                    </p>
                    <div class="d-flex gap-2 justify-content-center flex-wrap">
                        <a asp-controller="Auth" asp-action="Register"
                           class="btn btn-danger px-4 py-2 fw-bold">
                            <i class="bi bi-person-plus me-1"></i> Đăng ký ngay
                        </a>
                        <a asp-controller="Track" asp-action="Index"
                           class="btn btn-outline-secondary px-4 py-2 fw-bold">
                            <i class="bi bi-search me-1"></i> Tra cứu vận đơn
                        </a>
                    </div>
                </div>
            </div>

            @* Nội dung từng trang con *@
            @RenderBody()

        </div>
    </main>

    <!-- Footer -->
    <footer class="nf-footer">
        <div class="container py-4">
            <div class="row g-3 align-items-center">
                <div class="col-md-6">
                    <div class="fw-bold text-dark">NightFury Logistics</div>
                    <div class="small">© 2025. All rights reserved.</div>
                </div>
                <div class="col-md-6 text-md-end">
                    <a class="text-decoration-none me-3" href="#" style="color: var(--nf-muted);">Chính sách</a>
                    <a class="text-decoration-none me-3" href="#" style="color: var(--nf-muted);">Bảo mật</a>
                    <a class="text-decoration-none" href="#" style="color: var(--nf-muted);">Liên hệ</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
