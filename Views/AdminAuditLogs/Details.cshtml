@model WedNightFury.Models.AuditLog

@{
    ViewData["Title"] = "Chi ti·∫øt nh·∫≠t k√Ω";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

    string actionClass = Model.Action switch
    {
        "login"  => "bg-info",
        "create" => "bg-success",
        "update" => "bg-warning text-dark",
        "delete" => "bg-danger",
        _ => "bg-secondary"
    };
}

<div class="container-fluid px-4 py-3">

    <!-- HEADER -->
    <div class="dash-head mb-3">
        <div class="dash-head__left">
            <div class="dash-avatar">üïµÔ∏è</div>
            <div>
                <div class="dash-title">Chi ti·∫øt nh·∫≠t k√Ω thao t√°c</div>
                <div class="dash-sub">
                    Ghi nh·∫≠n h√†nh ƒë·ªông c·ªßa admin trong h·ªá th·ªëng
                </div>
            </div>
        </div>
        <span class="badge @actionClass badge-pill fs-6 px-3 py-2">
            @Model.Action.ToUpper()
        </span>
    </div>

    <!-- INFO PANEL -->
    <div class="panel mb-3">
        <div class="panel-head">
            <div class="panel-title">
                <i class="fas fa-info-circle me-1"></i> Th√¥ng tin chung
            </div>
        </div>

        <div class="panel-body">
            <div class="row g-3">

                <div class="col-md-4">
                    <div class="info-box">
                        <div class="info-label">Th·ªùi gian</div>
                        <div class="info-value">
                            @Model.CreatedAt.ToString("dd/MM/yyyy HH:mm:ss")
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="info-box">
                        <div class="info-label">Admin</div>
                        <div class="info-value">
                            @Model.AdminName
                            <span class="text-muted">(#@Model.AdminId)</span>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="info-box">
                        <div class="info-label">IP</div>
                        <div class="info-value text-muted">
                            @Model.IpAddress
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="info-box">
                        <div class="info-label">ƒê·ªëi t∆∞·ª£ng t√°c ƒë·ªông</div>
                        <div class="info-value">
                            <span class="badge bg-light text-dark badge-pill">
                                @Model.EntityType
                                @(Model.EntityId.HasValue ? $"#{Model.EntityId}" : "")
                            </span>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="info-box">
                        <div class="info-label">M√¥ t·∫£</div>
                        <div class="info-value">
                            @Model.Description
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- DIFF PANEL -->
    <div class="panel mb-3">
        <div class="panel-head">
            <div class="panel-title">
                <i class="fas fa-exchange-alt me-1"></i> Thay ƒë·ªïi d·ªØ li·ªáu
            </div>
        </div>

        <div class="panel-body">
            <div class="row g-3">

                <!-- OLD -->
                <div class="col-md-6">
                    <div class="diff-box diff-old">
                        <div class="diff-title">
                            <i class="fas fa-minus-circle me-1"></i> Gi√° tr·ªã c≈©
                        </div>
                        <pre class="diff-content">
@(string.IsNullOrWhiteSpace(Model.OldValue) ? "(Kh√¥ng c√≥)" : Model.OldValue)
                        </pre>
                    </div>
                </div>

                <!-- NEW -->
                <div class="col-md-6">
                    <div class="diff-box diff-new">
                        <div class="diff-title">
                            <i class="fas fa-plus-circle me-1"></i> Gi√° tr·ªã m·ªõi
                        </div>
                        <pre class="diff-content">
@(string.IsNullOrWhiteSpace(Model.NewValue) ? "(Kh√¥ng c√≥)" : Model.NewValue)
                        </pre>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- ACTIONS -->
    <div class="d-flex justify-content-between">
        <a asp-action="Index" class="btn btn-outline-secondary">
            ‚Üê Quay l·∫°i danh s√°ch
        </a>

        <span class="text-muted small">
            Audit ID: @Model.Id
        </span>
    </div>
</div>
